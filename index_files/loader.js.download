if(location.href.indexOf("https://groove-widget-production.s3.amazonaws.com/cache-buster.html")<0){!function(e){if(!e.console){var t=function(){};e.console={log:t,info:t,warn:t,debug:t,error:t,important:t}}e._grv={api:{},settings:{},jsonpCallbacks:{},getJsonpCallback:function(t){return e._grv.jsonpCallbacks[t]||function(){}}}}(parent.window);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},innerWindow=window;!function(e,t,o){function n(){i(),a(e.groove._widgetQueue),A&&v()}function i(){e._grvq&&!e.groove&&(e.groove={_widgetQueue:e._grvq},e._grvq.push=function(){return e.groove._widgetQueue.push(Array.prototype.slice.call(arguments)),0}),e.groove.widget=function(){r(Array.prototype.slice.call(arguments))}}function a(e){for(;e.length;)r(e.shift())}function r(t){var o=t[0],n=t.slice(1);e._grv.api[o]?e._grv.api[o].apply(this,n):s("Invalid command '\""+o+'"')}function s(t){e.console.warn("Groove: "+t)}function d(o,n,i){if(e._grv.jsonpCallbacks[n])throw new Error('JSONP callback "'+n+'" already in progress.');e._grv.jsonpCallbacks[n]=function(t){i(t),delete e._grv.jsonpCallbacks[n]};var a=t.createElement("script"),r=t.getElementsByTagName("script")[0];o.indexOf("?")<0&&(o+="?"),a.src=o+"&callback=window._grv.getJsonpCallback('"+n+"')",a.className=C,a.onload=function(e){a.onload=null,a.parentNode.removeChild(a)},r.parentNode.insertBefore(a,r)}function l(){d("https://widget-backend.groovehq.com/versions/"+O+".json?"+Date.now(),"version",p)}function c(e){z||(z=t.documentElement.getAttribute("lang")||navigator.language||navigator.userLanguage||"en",z=z.split("-",1)[0]),z="en",d("https://widget-backend.groovehq.com/settings/"+O+".json?locale="+z+"&version="+e,"settings",g)}function p(o){if(o.assets!==E){var n=t.createElement("iframe");n.className=C,n.style.cssText="display:none",n.src="https://groove-widget-production.s3.amazonaws.com/cache-buster.html#"+o.assets,t.body.appendChild(n),e.parent._grv_cache_bust_count=e.parent._grv_cache_bust_count||0;var i=function a(t){var n=t.origin||t.originalEvent.origin;if("https://groove-widget-production.s3.amazonaws.com"===n&&"grv:cache-busted"===t.data){if(e.parent._grv_cache_bust_count=e.parent._grv_cache_bust_count+1,e.parent._grv_cache_bust_count>k)return e.removeEventListener("message",a),void c(o.settings);e.removeEventListener("message",a),m(o.assets)}};e.addEventListener("message",i,!1)}else c(o.settings)}function g(e){"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var o=arguments[t];if(null!=o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e});var e=_extends({primaryBackgroundColor:"#3acfef",primaryForegroundColor:"#ffffff",color_scheme:"light-colors",buttonPosition:"bottom-right",buttonType:"circle",hidePoweredBy:!1},e);u(e)}function u(o){var n;o.widget_id=O,P=t.createElement("iframe"),P.src="javascript:false",P.style.visibility="hidden",P.style.opacity="0",P.style.position="fixed",P.style.top="-1000px",P.style.border="0",P.style["z-index"]="2147483647",P.className=[C,C+"-"+o.buttonPosition].join(" "),t.body.appendChild(P);try{T=P.contentWindow.document}catch(i){n=t.domain,P.src="javascript:var d=document.open();d.domain='"+n+"';void(0);",T=P.contentWindow.document}T.open()._l=function(){n&&(this.domain=n),P.style.visibility="visible",P.style.opacity="1";var e=this.getElementsByTagName("body")[0],t=["//d2wy8f7a9ursnm.cloudfront.net/bugsnag-2.min.js","https://groove-widget-production.s3.amazonaws.com/common-1ca1952ba8426652b90b.js","https://groove-widget-production.s3.amazonaws.com/main-0888432fba2fe606d31c.js"];o.overrideFontFamily||t.unshift("//ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js");for(var i=0;i<t.length;i++){var a=T.createElement("script");a.type="text/javascript",a.charset="utf-8",t[i].indexOf("bugsnag")>=0&&a.setAttribute("data-apikey","559d85a217c39ce21e23bc38c90663b7"),a.async=!0,a.src=t[i],e.appendChild(a)}},e._grv.settings=o,T.write('<body onload="document._l();">'),T.close();var a=t.createElement("style");a.type="text/css",a.innerText=".grv-widget-tag-bottom-right{position:fixed;bottom:15px;right:20px}.grv-widget-tag-bottom-left{position:fixed;bottom:15px;left:20px}.grv-widget-app-bottom-right{position:fixed;bottom:0;right:0}.grv-widget-app-bottom-left{position:fixed;bottom:0;left:0}.grv-widget-app,.grv-widget-app-modal{position:fixed!important;top:0!important;right:0!important;bottom:0!important;width:100%!important;height:100%!important;z-index:2147483637!important}.grv-widget-app{box-shadow:-1.5px 0 4px rgba(0,0,0,.24),-1.5px 0 6px rgba(0,0,0,.12)!important}@media(min-width:900px){.grv-widget-app{width:35%!important;max-width:550px!important;min-width:450px!important}}.grv-widget-app-modal{left:0!important}.grv-widget-app-modal.grv-widget-open{background:rgba(27,27,27,.7);transition:all .08s ease;transition-property:background,opacity}.grv-widget-app-modal:not(.grv-widget-open) {position:static!important;display:inline-block}\n                       ",a.className=C,t.head.appendChild(a),P.addEventListener("click",function(){}),e.addEventListener("mousemove",W),e.addEventListener("resize",q),q()}function v(){return N!=L.unloaded?void s("Widget has already been loaded. Cannot load again until widget is unloaded."):(_(L.loader),void l())}function m(e){N=L.unloaded,h();var o=t.getElementById("grv-widget"),n=t.createElement("script");n.id="grv-widget",n.innerText=o.innerText,o.parentNode.removeChild(o),t.body.appendChild(n)}function f(){e.removeEventListener("mousemove",W),e.removeEventListener("resize",q),e._grv.jsonpCallbacks={},h(),b(),N=L.unloaded}function b(){var e=t.getElementById("grv-widget");e&&e.parentNode.removeChild(e)}function h(){for(var e=t.getElementsByClassName(C),o=0;o<e.length;o++)e[o].parentNode.removeChild(e[o])}function y(e,t){var o,n,i,a=null,r=0,s=function(){r=0,a=null,i=e.apply(o,n),a||(o=n=null)};return function(){var d=Date.now();if(r||(r=d),"undefined"==typeof d)return!1;var l=d-r,c=t-l;return o=this,n=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),r=d,i=e.apply(o,n),a||(o=n=null)):a||(a=setTimeout(s,c)),i}}function w(t,n){if(P){var i=e._grv.settings.panelType,a=e._grv.settings.buttonType,r=e._grv.settings.buttonPosition;"app"===t?(P.classList.add("grv-widget-open"),"modal"===i?P.classList.add("grv-widget-app-modal"):(t="400px",n="100%",P.classList.add("grv-widget-app")),"link"!==a&&P.classList.add("grv-widget-app-"+r)):(P.classList.remove("grv-widget-open"),P.style.position=P.style.top=P.style.right=P.style.bottom=P.style.boxShadow="",P.className=P.className.replace(/ grv-widget-app[^ ]*/g,"")),t!==o&&(P.style.width=t),n!==o&&(P.style.height=n),q()}}function _(e){N=e,a(S[e])}try{innerWindow.frameElement&&(innerWindow.frameElement.style.display="none")}catch(x){}var E="68910fa",j=100,C="grv-widget-tag",k=3,L={unloaded:1,loader:2,main:3,preloaded:4,app:5},N=L.unloaded,P=void 0,O=void 0,T=void 0,z=void 0,B={left:0,top:0},A=!0,S={};Object.keys(L).map(function(e){return S[L[e]]=[]});var W=y(function(t){var o=Math.sqrt(Math.pow(t.clientX-B.left,2)+Math.pow(t.clientY-B.top,2));j>=o&&(e.removeEventListener("mousemove",W),e.removeEventListener("resize",q),T&&T.defaultView&&T.defaultView.grv&&T.defaultView.grv.loadApp(),e.removeEventListener("mousemove",W))},80),q=y(function(e){var t=P.getBoundingClientRect();B.top=t.top+t.height/2,B.left=t.left+t.width/2},100);e._grv.resize=w,e._grv.extendPublicAPI=function(t){"object"==("undefined"==typeof t?"undefined":_typeof(t))&&_extends(e._grv.api,t)},e._grv.setLoadingPhaseByName=function(t,o){e._grv.extendPublicAPI(o),_(L[t])},e._grv.api={setWidgetId:function(e){O=e},setAutoload:function(e){A=e},setLocale:function(e){z=e},load:v,unload:f,open:function(e){N<L.preloaded&&S[L.preloaded].push(["open",e])},close:function(){N<L.preloaded&&S[L.preloaded].push(["close"])},selectPanel:function(e){N<L.preloaded&&S[L.preloaded].push(["selectPanel",e])},setCustomer:function(e){N<L.app&&S[L.app].push(["setCustomer",e])}},n()}(parent.window,parent.document)}
//# sourceMappingURL=loader.js.map
